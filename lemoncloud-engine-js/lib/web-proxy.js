"use strict";module.exports=function(o,t){t=t||"WS";var r=o.U,e=o._;if(!r)throw new Error("$U is required!");if(!e)throw new Error("$_ is required!");var n=r.NS(t,"yellow"),i=(o.log,o.inf,o.err,{do_get:function(r,e,o,t,i){return i?Promise.reject(new Error(n+":$body is invalid!")):void 0===r?Promise.reject(new Error(n+":host is required!")):s().do_get(r,e,void 0,t,i).then(function(r){return r.result})},do_post:function(r,e,o,t,i){return void 0===r?Promise.reject(new Error(n+":host is required!")):s().do_post(r,e,void 0,t,i).then(function(r){return r.result})},do_put:function(r,e,o,t,i){return void 0===r?Promise.reject(new Error(n+":host is required!")):s().do_put(r,e,void 0,t,i).then(function(r){return r.result})},do_delete:function(r,e,o,t,i){return void 0===r?Promise.reject(new Error(n+":host is required!")):s().do_delete(r,e,void 0,t,i).then(function(r){return r.result})}});o(t,i);var u=r.env("WS_ENDPOINT"),d=require("./http-proxy"),s=function(){if(!u)throw new Error("env:WS_ENDPOINT is required!");var r="X"+t,e=o(r);return e||d(o,r,u)};return i};