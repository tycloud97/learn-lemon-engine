"use strict";module.exports=function(t,n){n=n||"LS";var r=t.U,e=t._;if(!r)throw new Error("$U is required!");if(!e)throw new Error("$_ is required!");var u=r.NS(n,"yellow"),o=(t.log,t.inf,t.err,{do_get:function(r,e,t,n,o,i){return r?o?Promise.reject(new Error(u+":$body is invalid!")):d().do_get(r,e,t,n,o,i).then(function(r){return r.result}):Promise.reject(new Error("TYPE is required"))},do_post:function(r,e,t,n,o,i){return r?d().do_post(r,e,t,n,o,i).then(function(r){return r.result}):Promise.reject(new Error("TYPE is required"))},do_put:function(r,e,t,n,o,i){return r?d().do_put(r,e,t,n,o,i).then(function(r){return r.result}):Promise.reject(new Error("TYPE is required"))},do_delete:function(r,e,t,n,o,i){return r?d().do_delete(r,e,t,n,o,i).then(function(r){return r.result}):Promise.reject(new Error("TYPE is required"))}});t(n,o);var i=r.env("LS_ENDPOINT"),s=require("./http-proxy"),d=function(){if(!i)throw new Error("env:LS_ENDPOINT is required!");var r="X"+n,e=t(r);return e||s(t,r,i)};return o};