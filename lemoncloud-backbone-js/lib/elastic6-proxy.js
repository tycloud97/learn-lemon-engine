"use strict";module.exports=function(t,i){i=i||"ES6";var r=t.U,e=t._;if(!r)throw new Error("$U is required!");if(!e)throw new Error("$_ is required!");var u=r.NS(i,"cyan"),n={},o=t.log;t.inf,t.err;n.do_create_index_type=function(r,e,t){if(!r)return Promise.reject(new Error(u+"index is required"));var i=Object.assign({},{});return d().do_post(r,"0","create-index",i,t).then(function(r){return r.result})},n.do_delete_index_type=function(r,e,t){if(!r)return Promise.reject(new Error(u+"index is required"));var i=Object.assign({},{});return d().do_post(r,"0","delete-index",i,t).then(function(r){return r.result})},n.do_create_item=function(r,e,t,i){if(!r)return Promise.reject(new Error(u+"parameter:index is required"));if(!e)return Promise.reject(new Error(u+"parameter:type is required"));if(!t)return Promise.reject(new Error(u+"parameter:id is required"));if(!i)return Promise.reject(new Error(u+"parameter:data is required"));var n=Object.assign({},{});return n.$type=e,d().do_post(r,t,void 0,n,i).then(function(r){return r.result})},n.do_push_item=function(r,e,t,i){if(!r)return Promise.reject(new Error(u+"parameter:index is required"));if(!e)return Promise.reject(new Error(u+"parameter:type is required"));if(!t)return Promise.reject(new Error(u+"parameter:data is required"));var n=Object.assign({},{});return n.$type=e,i=""===(i=i||"")?"0":"",d().do_post(r,i,"push",n,t).then(function(r){return r.result})},n.do_get_item=function(r,e,t,i){if(!r)return Promise.reject(new Error(u+"parameter:index is required"));if(!e)return Promise.reject(new Error(u+"parameter:type is required"));if(!t)return Promise.reject(new Error(u+"parameter:id is required"));var n=Object.assign({},{});return n.$type=e,d().do_get(r,t,void 0,n,i).then(function(r){return r.result})},n.do_delete_item=function(r,e,t){if(!r)return Promise.reject(new Error(u+"parameter:index is required"));if(!e)return Promise.reject(new Error(u+"parameter:type is required"));if(!t)return Promise.reject(new Error(u+"parameter:id is required"));var i=Object.assign({},{});return i.$type=e,d().do_delete(r,t,void 0,i).then(function(r){return r.result})},n.do_update_item=function(r,e,t,i){if(!r)return Promise.reject(new Error(u+"parameter:index is required"));if(!e)return Promise.reject(new Error(u+"parameter:type is required"));if(!t)return Promise.reject(new Error(u+"parameter:id is required"));if(!i)return Promise.reject(new Error(u+"parameter:data is required"));var n=Object.assign({},{});return n.$type=e,d().do_put(r,t,void 0,n,i).then(function(r){return r.result})},n.do_search_item=function(r,e,t){if(!r)return Promise.reject(new Error(u+"parameter:index is required"));if(!t)return Promise.reject(new Error(u+"parameter:param is required"));var i=Object.assign({},t||{});return i.$type=e,d().do_get(r,"",void 0,i).then(function(r){return r.result})},n.do_test_self=function(r){o(u,"- do_test_self()... param=",r=r||{});var e=Object.assign({},r||{});return d().do_get("#","0","test-self",e).then(function(r){return r.result})},t(i,n);var s=r.env("ES6_ENDPOINT"),a=require("./http-proxy"),d=function(){if(!s)throw new Error("env:ES6_ENDPOINT is required!");var r="X"+i,e=t(r);return e||a(t,r,s)};return n};