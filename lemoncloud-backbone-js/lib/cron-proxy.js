"use strict";module.exports=function(o,i){i=i||"CR";var r=o.U,e=o._;if(!r)throw new Error("$U is required!");if(!e)throw new Error("$_ is required!");r.NS(i,"yellow"),o.log,o.inf,o.err;var n={do_list_rules:function(r,e,o){return d().do_get("rules","","",{limit:r,prefix:e,token:o},void 0)},do_describe_rule:function(r){return d().do_get("rules",r,void 0,void 0,void 0)},do_enable_rule:function(r,e){return d().do_get("rules",r,e?"enable":"disable",void 0,void 0)},do_save_rule:function(r,e){return d().do_post("rules",r,"",void 0,e)}};o(i,n);var t=r.env("CR_ENDPOINT"),u=require("./http-proxy"),d=function(){if(!t)throw new Error("env:CR_ENDPOINT is required!");var r="X"+i,e=o(r);return e||u(o,r,t)};return n};